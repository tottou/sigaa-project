<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />

</h:head>
<h:body>
 
	<p:panel header="Cadastro de usuário" id="panelU">
	
	

		<h:panelGrid columns="2" columnClasses="label, value" styleClass="grid">        
				     
				<h:outputText value="Nome: " />  
				<p:inputText id="inputus1" value="#{actionPerfil.perfil.nome}" validatorMessage="Quantidade de caractéres indevida." required="true" requiredMessage="Campo 'Nome' obrigatório">
				<f:validateLength maximum="50" minimum="4"></f:validateLength>				
				
				</p:inputText>		
                                          
				<h:outputText value="Telefone: " />  				
				<p:inputMask mask="(999)9999-9999" id="inputus3" value="#{actionPerfil.perfil.telefone}" required="true" requiredMessage="Campo 'Telefone' obrigatório" validatorMessage="É necessário fornecer o número de telefone." />
				 
           
				<h:outputText value="Celular: " />  			
				<p:inputMask mask="(999)9999-9999" id="inputus4" value="#{actionPerfil.perfil.celular}" required="true" requiredMessage="Campo 'Celular' obrigatório" validatorMessage="É necessário fornecer o número de telefone." />
				
                 
				<h:outputText value="E-mail: " />  
				<p:inputText id="inputus7" value="#{actionPerfil.perfil.email}" validatorMessage="E-mail inválido." required="true" requiredMessage="Campo 'E-mail' obrigatório">
				<f:validateRegex pattern="^(([A-Za-z0-9]+_+)|([A-Za-z0-9]+\-+)|([A-Za-z0-9]+\.+)|([A-Za-z0-9]+\++))*[A-Za-z0-9]+@((\w+\-+)|(\w+\.))*\w{1,63}\.[a-zA-Z]{2,6}$"></f:validateRegex>
				</p:inputText>
                      
				<h:outputText value="Endereço: " />  
				<p:inputTextarea id="inputarea_end_user" rows="5" cols="50" value="#{actionPerfil.perfil.endereco}" validatorMessage="Quantidade de caractéres indevida."
				 required="true" requiredMessage="Campo 'Endereço' obrigatório">
				<f:validateLength maximum="200" minimum="4"></f:validateLength>
				</p:inputTextarea>		
			  
			
		    		
    		    <h:outputText value="Perfil: " />  
        <p:selectOneMenu value="#{actionPerfil.perfil.categoria}" required="true" requiredMessage="Campo de indicação de perfil obrigatório" rendered="#{sessao.usuario.categoria==0}">  
            <f:selectItem itemLabel="------" itemValue="" itemDisabled="true" />  
            <f:selectItem itemLabel="Administrador" itemValue="1"  />  
            <f:selectItem itemLabel="Professor" itemValue="2" />  
            <f:selectItem itemLabel="Tutor 1" itemValue="3" />  
            <f:selectItem itemLabel="Tutor 2" itemValue="4" /> 
        </p:selectOneMenu> 
        <p:selectOneMenu value="#{actionPerfil.perfil.categoria}" required="true" requiredMessage="Campo de indicação de perfil obrigatório" rendered="#{sessao.usuario.categoria==1}">  
            <f:selectItem itemLabel="------" itemValue="" itemDisabled="true" />             
            <f:selectItem itemLabel="Professor" itemValue="2" />  
            <f:selectItem itemLabel="Tutor 1" itemValue="3" />  
            <f:selectItem itemLabel="Tutor 2" itemValue="4" /> 
        </p:selectOneMenu> 
        	<br/><br/> <br/>
    		</h:panelGrid>
    		<p:commandButton id="btnSalvarPe" value="Cadastrar"  actionListener="#{actionPerfil.save}" update="growl,panelU" />
    		<p:commandButton id="btnLimparPe" value="Limpar campos" type="reset"  update="panelU" />
    		
    		
    		</p:panel>
    		
    		<p:ajaxStatus onstart="CadP.show();" onsuccess="CadP.hide();" />  
              
<p:dialog modal="true" widgetVar="CadP" header="Cadastrando..."   resizable="false" appendToBody="true"
        draggable="false" closable="false">  
        <center>
    <p:graphicImage value="/imagens/ajax-loader.gif" />  
    </center>
</p:dialog> 
    		
</h:body>
</html>